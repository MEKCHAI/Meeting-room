{% extends 'booking/base.html' %}

{% block title %}‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° - {{ month_name }} {{ year }}{% endblock %}

{% block content %}
<h2 class="mb-4">üóìÔ∏è ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô {{ month_name }} {{ year }}</h2>

<table class="table table-bordered text-center align-middle">
    <thead class="table-secondary">
        <tr>
            <th class="text-danger">‡∏≠‡∏≤.</th>
            <th>‡∏à.</th>
            <th>‡∏≠.</th>
            <th>‡∏û.</th>
            <th>‡∏û‡∏§.</th>
            <th>‡∏®.</th>
            <th class="text-primary">‡∏™.</th>
        </tr>
    </thead>
    <tbody>
    {% for week in calendar_matrix %}
    <tr>
        {% for day in week %}
           {% if day %}
    <td>
        {{ day.day }}
        {% if day|date:"Y-m-d" in bookings_by_day %}
            <span class="badge bg-danger">‚ùå ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</span>
        {% else %}
            <span class="badge bg-success">‚úÖ ‡∏ß‡πà‡∏≤‡∏á</span>
        {% endif %}
        <a href="{% url 'book_room' %}?date={{ day|date:'Y-m-d' }}" class="btn btn-sm btn-outline-primary mt-2">‡∏à‡∏≠‡∏á</a>
    </td>
{% else %}
    <td></td>
{% endif %}

        {% endfor %}
    </tr>
    {% endfor %}
</tbody>

</table>

<div class="mt-4">
    <a href="{% url 'calendar_grid' year=prev_year month=prev_month %}" class="btn btn-secondary">‚Üê ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô</a>
    <a href="{% url 'calendar_grid' year=next_year month=next_month %}" class="btn btn-secondary float-end">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí</a>
</div>
{% endblock %}